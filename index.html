<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Online Voting System</title>
  <!-- Bootstrap for UI / Swap with Tailwind if preferred -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="stl.css">
</head>
<body>
  <header class="bg-white border-b">
    <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
      <h1 class="text-lg font-semibold">Online Voting System</h1>
      <nav class="flex items-center gap-4">
        <button id="nav-login" class="text-sm hover:text-blue-600">Login</button>
        <button id="nav-vote" class="text-sm hover:text-blue-600">Vote</button>
        <button id="nav-results" class="text-sm hover:text-blue-600">Results</button>
        <button id="nav-admin" class="text-sm hover:text-blue-600">Admin</button>
      </nav>
    </div>
  </header>

  <main class="max-w-7xl mx-auto px-4 py-6">
    <div id="notification"></div>

    <!-- Auth -->
    <section id="auth-section" class="grid md:grid-cols-2 gap-6">
      <!-- Login Card -->
      <div class="bg-white rounded-xl shadow-sm border p-6">
        <h2 class="text-xl font-semibold">Login</h2>
        <form id="login-form" class="mt-4 space-y-4" novalidate>
          <div>
            <label for="login-username" class="block text-sm font-medium">Username</label>
            <input id="login-username" type="text" required
              class="mt-1 w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500" />
            <p class="mt-1 text-xs text-red-600 hidden" id="login-username-error">Username is required</p>
          </div>
          <div>
            <label for="login-password" class="block text-sm font-medium">Password</label>
            <input id="login-password" type="password" required
              class="mt-1 w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500" />
            <p class="mt-1 text-xs text-red-600 hidden" id="login-password-error">Password is required</p>
          </div>
          <button id="login-btn" type="submit"
            class="w-full inline-flex items-center justify-center rounded-lg bg-blue-600 px-4 py-2.5 text-white font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
            <span id="login-btn-text">Login</span>
            <svg id="login-spinner" class="ml-2 h-4 w-4 animate-spin hidden" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" fill="none"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
            </svg>
          </button>
        </form>
      </div>

      <!-- Registration Card -->
      <div class="bg-white rounded-xl shadow-sm border p-6">
        <h2 class="text-xl font-semibold">Register</h2>
        <form id="register-form" class="mt-4 space-y-4" novalidate>
          <div>
            <label for="reg-username" class="block text-sm font-medium">Username</label>
            <input id="reg-username" type="text" required
              class="mt-1 w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500" />
            <p class="mt-1 text-xs text-red-600 hidden" id="reg-username-error">Username is required</p>
          </div>
          <div>
            <label for="reg-email" class="block text-sm font-medium">Email</label>
            <input id="reg-email" type="email" required
              class="mt-1 w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500" />
            <p class="mt-1 text-xs text-red-600 hidden" id="reg-email-error">Valid email is required</p>
          </div>
          <div>
            <label for="reg-password" class="block text-sm font-medium">Password</label>
            <input id="reg-password" type="password" minlength="6" required
              class="mt-1 w-full rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500" />
            <p class="mt-1 text-xs text-gray-500">Min 6 characters</p>
          </div>
          <button id="register-btn" type="submit"
            class="w-full inline-flex items-center justify-center rounded-lg bg-emerald-600 px-4 py-2.5 text-white font-medium hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500">
            <span id="register-btn-text">Create account</span>
            <svg id="register-spinner" class="ml-2 h-4 w-4 animate-spin hidden" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" fill="none"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
            </svg>
          </button>
        </form>
      </div>
    </section>

    <!-- Vote -->
    <section id="vote-section" class="hidden mt-6">
      <div class="bg-white rounded-xl shadow-sm border p-6">
        <div class="flex items-center justify-between">
          <h2 class="text-xl font-semibold">Candidates</h2>
          <button id="refresh-candidates" class="text-sm text-blue-600 hover:underline">Refresh</button>
        </div>
        <div id="candidate-grid" class="mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
      </div>
    </section>

    <!-- Results -->
    <section id="results-section" class="hidden mt-6">
      <div class="bg-white rounded-xl shadow-sm border p-6">
        <div class="flex items-center justify-between">
          <h2 class="text-xl font-semibold">Live Results</h2>
          <div class="text-sm text-gray-500" id="results-last-updated">â€”</div>
        </div>
        <div id="results-list" class="mt-4 space-y-3" aria-live="polite"></div>
      </div>
    </section>

    <!-- Admin -->
    <section id="admin-section" class="hidden mt-6">
      <div class="bg-white rounded-xl shadow-sm border p-6 space-y-6">
        <h2 class="text-xl font-semibold">Admin Panel</h2>

        <form id="admin-add-candidate" class="flex flex-col sm:flex-row gap-3">
          <input id="admin-candidate-name" type="text" placeholder="Candidate name" required
            class="flex-1 rounded-lg border-gray-300 focus:border-blue-500 focus:ring-blue-500" />
          <button id="admin-add-btn" class="inline-flex items-center rounded-lg bg-blue-600 px-4 py-2.5 text-white hover:bg-blue-700">
            Add
          </button>
        </form>

        <div>
          <h3 class="font-medium">Candidates</h3>
          <div id="admin-candidate-table" class="mt-3 overflow-x-auto">
            <!-- populated dynamically -->
          </div>
        </div>

        <div class="flex gap-3">
          <button id="admin-refresh" class="rounded-lg border px-4 py-2 hover:bg-gray-50">Refresh</button>
          <button id="admin-download-report" class="rounded-lg bg-emerald-600 px-4 py-2 text-white hover:bg-emerald-700">
            Download Report
          </button>
        </div>
      </div>
    </section>
  </main>

  <script src="im.js"></script>
</body>
</html>

  <script type="module" src="/src/main.jsx"></script>
</body>
</html>
